<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2017-06-13">

<title>Enhancing your research network with social media – Seascapemodels</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f93c2b1f3f0577f377aefa4848a86a36.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-6.7.2/all.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-6.7.2/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Seascapemodels</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bluecology_blog.html"> 
<span class="menu-text"><i class="fa-regular fa-newspaper" aria-label="newspaper"></i> Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../people.html"> 
<span class="menu-text"><i class="fa-regular fa-user" aria-label="user"></i> People</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../code.html"> 
<span class="menu-text"><i class="fa-solid fa-laptop-code" aria-label="laptop-code"></i> R tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com.au/citations?hl=en&amp;user=1qG6yFMAAAAJ&amp;view_op=list_works&amp;sortby=pubdate"> 
<span class="menu-text"><i class="fa-brands fa-google-scholar" aria-label="google-scholar"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://discover.utas.edu.au/C.J.Brown"> 
<span class="menu-text"><i class="fa-solid fa-building-columns" aria-label="building-columns"></i></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cbrown5"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://bsky.app/profile/bluecology.bsky.social"> 
<span class="menu-text"><i class="fa-brands fa-bluesky" aria-label="bluesky"></i></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/christopher-brown-32466785/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Enhancing your research network with social media</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">research-skills</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 13, 2017</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="enhancing-your-research-network-with-social-media" class="level2">
<h2 class="anchored" data-anchor-id="enhancing-your-research-network-with-social-media">Enhancing your research network with social media</h2>
<p>What defines a (successful) scientist? Their collaborations, their Phd supervisor, their students, who they cite, conferences they attend and citations of their publications all indicate what field they belong to and how successfull they are as a researcher.</p>
<p>In short, scientists are defined by their network of influence.</p>
<p>This is a brief blog on using social media to enhance your research network. It has been prepared as a supplement for my talk at the Australian Rivers Institute (13/6/2017), but should also stand alone.</p>
<section id="blogging" class="level3">
<h3 class="anchored" data-anchor-id="blogging">Blogging</h3>
<p>A great way to learn how to blog is to start copying the style of other people who are good at it.</p>
<p>A good way to find out who is good at blogging (or social media in general) is to look at the <a href="https://www.altmetric.com">Altmetrics</a> for your favourite papers.</p>
<p>Altmetrics will give you a influence score for a paper that includes among other things the number of blogs it could detect. You can get a handy link for your browser to quickly view Altmetrics <a href="https://www.altmetric.com/products/free-tools/bookmarklet/">here</a>.</p>
<p>If you have your own blog, make sure you get it registered with <a href="https://help.altmetric.com/support/solutions/articles/6000060979-how-do-i-ensure-that-my-blog-posts-are-picked-up-by-altmetric-">Altmetrics</a>. Also make sure you include a link or DOI for your paper in the blog.</p>
<p>There are many ways to write a blog, but to start I recommend writing about one of your research articles. You want to hit the points below, making sure that the significance of the work, the problem you addressed and the solutions are given priority. Methods and detailed lit review are less important (or don’t even include them!):</p>
<p>A reasonable blog structure:</p>
<ul>
<li>The significance of the work to a generalist audience.</li>
<li>What you did that was new to address the problem</li>
<li>What you found</li>
<li>What are the implications of your finding for science or humanity</li>
<li>Any actions people should take as a result of your research</li>
</ul>
<p>Another key style point is to write for a generalist audience (e.g.&nbsp;avoid jargon), even if you are aiming it at specialists. Making it easier for specialists to read will mean they are more likely to read it too.</p>
</section>
<section id="example-blogs" class="level3">
<h3 class="anchored" data-anchor-id="example-blogs">Example blogs</h3>
<p>Naturally you are already on my blog, so check out some of my blogs about research papers <a href="http://www.seascapemodels.org/research/2017/05/30/migratory-species-climate-change.html">e.g.&nbsp;here</a>.</p>
<p>I also recommend you check out the Australian Rivers Institute <a href="https://catchmenttocoast.wordpress.com/">Catchment to Coast blog</a>.</p>
<p>In my talk I will give the example of <a href="https://catchmenttocoast.wordpress.com/2017/04/11/reef-fishing/">Tyson Martin’s</a> post as a recent one that emphasises signficance in an easily accessible way.</p>
<p>I love <a href="https://theconversation.com/au">The Conversation</a>. Their blogs are written for a generalist audience - their style guide encourages readibility for highschool students, but even discpline experts can learn a lot from this blog.</p>
<p>In fact, I reckon one of their main followings is probably scientists. So you will reach your colleagues as well as a broader audience if you write for The Conversation.</p>
<p>The Conversation does blogs about research papers, but also emphasises topical issues too.</p>
<p>For instance, a couple examples I give in my seminar are <a href="https://theconversation.com/the-2017-budget-has-axed-research-to-help-australia-adapt-to-climate-change-77477">The 2017 budget has axed research to help Australia adapt to climate change</a> and <a href="https://theconversation.com/could-nitrogen-trading-help-the-great-barrier-reef-60930">Could ‘nitrogen trading’ help the Great Barrier Reef?</a>.</p>
<p>If you want to learn how to blog about opinons or interesting facts as an individual, try these two entertaining ecologically orientated blogs:</p>
<p><a href="https://scientistseessquirrel.wordpress.com/"><strong>Scientist Sees Squirrel</strong></a></p>
<p><a href="https://dynamicecology.wordpress.com/"><strong>Dynamic Ecology</strong></a></p>
<p>A few other professional blogs for places to get ideas are: <a href="http://blog.nature.org/science/">Cool Green Science</a> and <a href="https://www.hakaimagazine.com/">Hakai Magazine</a>.</p>
<p>Hakai Magazine, Cool Green Science and The Conversation all accept ‘pitches’ for new articles from scientists. So if you have a great paper coming out, or have an informed opinion on a topical event, write them and ask to blog about it.</p>
</section>
<section id="twitter" class="level3">
<h3 class="anchored" data-anchor-id="twitter">Twitter</h3>
<p>To get started, here are a couple of good examples of tweets about research papers: 1. <a href="https://twitter.com/DocSlinky/status/872608867359768577">This one by Simon Linke</a> 2. <a href="https://twitter.com/GrettaPecl/status/865856218211930113">This one by Gretta Pecl</a></p>
<p>Some things to notice are:</p>
<ul>
<li>They link to their research papers</li>
<li>Both have engaging images, which will increase the number of people interacting with your tweet</li>
<li>Both have short catchy statements</li>
<li><a href="https://twitter.com/DocSlinky">Simon Linke’s</a> is notable because he has just started on Twitter and has less than 100 followers, but the tweet has been pretty successful (18 retweets when I last checked) for a research paper tweet.</li>
<li>Both share promote their own science, but are not boastful about it and people like that.</li>
<li>Gretta’s post also ties into a hashtag (<a href="https://twitter.com/hashtag/BillMeetScienceTwitter?src=hash">#BillMeetScienceTwitter</a>) that was trending at the time.</li>
</ul>
<p>There are a number of different Twitter strategies you can take, or mix and match. Here are some examples:</p>
<ul>
<li>Sharing personal views <a href="https://twitter.com/RallidaeRule">e.g.&nbsp;here</a></li>
<li>News and topic expert <a href="https://twitter.com/TrevorABranch/status/874123067324153856">e.g.&nbsp;here</a></li>
<li>Science commmunicator <a href="https://twitter.com/JacquelynGill">e.g.&nbsp;here</a></li>
<li>The conversationalist <a href="https://twitter.com/RallidaeRule/status/873259176591601664">e.g.&nbsp;here</a></li>
<li>New publications (often anonymous)<a href="https://twitter.com/remotelysense">e.g.&nbsp;here</a></li>
<li>Tweet and blog combo <a href="https://twitter.com/bluecology/status/874371959382867969">That’s what I do!</a></li>
</ul>
</section>
<section id="costs-and-benefits-of-social-media" class="level3">
<h3 class="anchored" data-anchor-id="costs-and-benefits-of-social-media">Costs and benefits of social media</h3>
<p>In addition to thinking about how social media can benefit your research career, its worth thinking about potential costs.</p>
<p>While it can be time-efficient and cost-effective (i.e.&nbsp;no plane flights required to talk with overseas colleagues) way to communicate, it can also be a time sink. Personally, I only leave myself a limited amount of time for social media. e.g.&nbsp;I tweet on the bus and I usually set myself an hour max to finish a blog.</p>
<p>I think writing fast blogs can actually help make you a more <a href="http://www.seascapemodels.org/research/2016/07/25/write-like-a-runner.html">efficient scientific writer</a>.</p>
<p>Another potential risk in expanding your communication network is that some people might not like what you have to say. While some people thrive of confrontation, other people (like me!) feel uncomfortable about it.</p>
<p>Commonsense prevails here. Be courteous, acknowledge other people’s views and keep your conversations professional.</p>
<p>An extreme case of confrontation is getting trolled. That is someone who deliberately sets out to demean your views and offend you. Good general advice is to ignore trolls, they are looking for a response. Most social media platforms offer a blocking option too, so you might want to use that.</p>
<p>I will say that people’s experiences of social media will vary depending on context. In particular, I know a lot of female colleagues are concerned about sexism. Unfortunately, if you are a women and become a well known communicator you will almost certainly recieve sexist comments.</p>
<p>I don’t want to put women off of using social media. Instead, I hope we can encourage a more forthright conversation about appropriate behaviour on social media. I also want to highlight this issue to men, who may not be aware of it. Guys, be supportive of your female colleagues engaging with public communication. You can help by calling people out on sexist comments (<a href="https://twitter.com/TrevorABranch/status/872551407592718336">here’s one recent example</a>).</p>
<p>Social media can also be a force for good when it comes to sexism. For instance, two women who submitted an article to PLoS One recieved a review saying the paper would be better with a <a href="https://twitter.com/FionaIngleby/status/593408243772297216">male coauthor</a>.</p>
<p>Tweets about their experience resulted in public outrage from the scientific community. Ultimately the handing editor was asked to <a href="http://www.sciencemag.org/news/2015/05/plos-one-ousts-reviewer-editor-after-sexist-peer-review-storm">step down from PLoS</a> and PLoS has reviewed its reviewing practices.</p>
<p>So social media can help level the playing field and improve equity in scientific careers.</p>
</section>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary">Summary</h3>
<p>Hope you found this helpful. Have fun out there on the network.</p>
<p>In short, successful scientists are good networkers. Social media helps us enhance our networks.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.seascapemodels\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>