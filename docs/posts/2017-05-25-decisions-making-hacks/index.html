<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2017-05-25">

<title>Hacks for making time-effective and lower stress decisions – Seascapemodels</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f93c2b1f3f0577f377aefa4848a86a36.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-6.7.2/all.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-6.7.2/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Seascapemodels</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bluecology_blog.html"> 
<span class="menu-text"><i class="fa-regular fa-newspaper" aria-label="newspaper"></i> Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../people.html"> 
<span class="menu-text"><i class="fa-regular fa-user" aria-label="user"></i> People</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../code.html"> 
<span class="menu-text"><i class="fa-solid fa-laptop-code" aria-label="laptop-code"></i> R tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com.au/citations?hl=en&amp;user=1qG6yFMAAAAJ&amp;view_op=list_works&amp;sortby=pubdate"> 
<span class="menu-text"><i class="fa-brands fa-google-scholar" aria-label="google-scholar"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://discover.utas.edu.au/C.J.Brown"> 
<span class="menu-text"><i class="fa-solid fa-building-columns" aria-label="building-columns"></i></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cbrown5"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://bsky.app/profile/bluecology.bsky.social"> 
<span class="menu-text"><i class="fa-brands fa-bluesky" aria-label="bluesky"></i></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/christopher-brown-32466785/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Hacks for making time-effective and lower stress decisions</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">research-skills</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 25, 2017</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="hacks-for-making-time-effective-and-lower-stress-decisions" class="level2">
<h2 class="anchored" data-anchor-id="hacks-for-making-time-effective-and-lower-stress-decisions">Hacks for making time-effective and lower stress decisions</h2>
<p>Decisions are a fundamental currency of human life. Let me give you some examples.</p>
<p>Feel exhausted at the end of the work day?</p>
<p>You probably made too many decisions. In fact, our brains have limited computational power and there is a finite reserve of decisions we can make in any given day. In fact, big decisions can use just as much brain power as small ones (<a href="http://www.brainrules.net/">here’s a good guide to that phenomenon</a>).</p>
<p>That old debate about gender equity? It might seem like it is about wages, actually it is about equal rights to make decisions. In our society, the more money you make, the more right you have to make decisions.</p>
<p>A senior colleague is offering you an “opportunity” (AKA asking you do to something for them)? They are delegating decisions, either because they don’t know how, or they don’t have the time to make the decisions themselves.</p>
<p>“Opportunities” like organising a symposium are packed full of decisions, like what food to order, who to invite….</p>
<p>Struggling to find motivation to finish writing a paper or report?</p>
<p>That is because writing is packed full of decisions, like what words to use and where to put them. It is a major brain drain to make all these decisions, so we are inclined to put them off.</p>
<p>Feeling stressed about the end of your PhD approaching?</p>
<p>At least part of the stress is knowing that you will have some major life changes coming up, that will require lots of decisions. Like where to live, where to work and so on.</p>
<p>I am actually in the process of making a major life decision myself - we are looking to buy our first house.</p>
<p>So here are some hacks I have developed over the years that help to reduce stress and make decisions more time effective.</p>
<section id="self-awareness" class="level3">
<h3 class="anchored" data-anchor-id="self-awareness">1. Self-awareness</h3>
<p>You can’t realise you’re stressed about decisions until you realise you’re stressed. You also need self-awareness to know what decisions are stressing you.</p>
<p>The best way to get self awareness is to practice mindfullness and/or mediation. Seriously. Many professional sports people consider mediation a critical part of their training.</p>
<p>So why not other types of professionals?</p>
<p>An easy way to be more mindful is to acknowledge to yourself how you are feeling. Actually say the words, “I am feeling stressed out by…” (or at least actively thinking them). Do that for a few minutes and you might learn alot about what decisions matter to you right now.</p>
<p>Most large institutions will also offer a free and anonymous counciling service for staff. These are useful in my experience because the counciller will help you develop tools for being more self aware.</p>
</section>
<section id="chunking" class="level3">
<h3 class="anchored" data-anchor-id="chunking">2. Chunking</h3>
<p>Big decisions, like deciding where to buy or rent a house, or what job to go for are hard because they are actually composed of many small decisions.</p>
<p>So break them up into chunks. For instance, decide what suburb you want to be in first. Then what size house and so on.</p>
</section>
<section id="adaptive-chunking" class="level3">
<h3 class="anchored" data-anchor-id="adaptive-chunking">3. Adaptive chunking</h3>
<p>Often decisions are hard because the outcomes are uncertain.</p>
<p>For instance, you are not sure where to start addressing a critique on your work (like reviews on a paper) because you are not sure of the best way to make ammends with the critic.</p>
<p>So break the problem into smaller parts, address the first part and then test it. Do this iteratively until you reach an adequate solution.</p>
<p>For instance, if a reviewer didn’t like the method you used, perhaps it was because you explained it poorly. So edit the explanation and show your edits to someone else. If it works for them, you might have solved the problem. If it doesn’t work, maybe its time to try and change the method.</p>
<p>Self awareness is very helpful here too. You might not realise that the uncertainty of a decision is stressing you out until you conciously analyse your feelings on the topic.</p>
</section>
<section id="learn-more" class="level3">
<h3 class="anchored" data-anchor-id="learn-more">4. Learn more</h3>
<p>Another obvious way to deal with uncertainty in the outcome of decisions is to do more research!</p>
<p>For instance, we want to buy a house, but don’t want to get ripped off. So we need to research what people are paying. Simple.</p>
</section>
<section id="copy-someone-else" class="level3">
<h3 class="anchored" data-anchor-id="copy-someone-else">5. Copy someone else</h3>
<p>Often other people are making the same decisions as you, often with better knowledge. Perhaps they are more experienced, or have had more time to learn about the decision.</p>
<p>So find those people and copy them.</p>
<p>In doing so though, we haven’t avoided a decision, we have just changed the question from ‘what to do?’, into ‘who to copy?’</p>
<p>So we may turned our decision about what statistical method to use on our data into a decision about determining who is an expert in analysing that type of data.</p>
<p>This type of decision is often much easier to solve. For instance, you can easily ask around or just look at what the experts in your field are doing.</p>
</section>
<section id="copy-yourself" class="level3">
<h3 class="anchored" data-anchor-id="copy-yourself">6. Copy yourself</h3>
<p>Often in life and your career you will have to repeatedly make similar versions of the same decision.</p>
<p>For these things it is a good idea to develop a ‘rule of thumb’ to follow.</p>
<p>For instance, if you are always analysing a certain type of data, then develop a robust approach to that type of analyse you plan on reusing.</p>
<p>Another good example is shopping for food (supermarkets are decision overload). You might have a rule of thumb that you buy the cheapest version of a given product, or the cheapest organic version if you are into organic food and so on.</p>
</section>
<section id="develop-an-autopilot" class="level3">
<h3 class="anchored" data-anchor-id="develop-an-autopilot">7. Develop an autopilot</h3>
<p>If you copy yourself enough you will develop muscle memory. This is a very time and energy effective way to make decsions.</p>
<p>For instance, when I surf I don’t have to think about when to paddle for a wave and when to pop up onto my feet. I just know from having done it thousands of times.</p>
<p>Some types of analysis also just flow out of my fingers into code without me thinking about it. This is because I have done them so many times.</p>
<p>The cost is that you have to invest extensive training into getting muscle memory. So it is only worthwhile doing this deliberately for decisions you think you will have to make very frequently.</p>
</section>
<section id="learn-to-say-no" class="level3">
<h3 class="anchored" data-anchor-id="learn-to-say-no">8. Learn to say no</h3>
<p>When someone asks you to do something, they are asking you to make decisions for them. This will cost you, because you are effectively trading off your time and energy for making other decisions.</p>
<p>So if you get asked to do things a lot, learn how to say ‘no’ gracefully. This <a href="http://www.ithinkwell.com.au/bookshop/time-for-research">book</a> helped me with that.</p>
</section>
<section id="delegate" class="level3">
<h3 class="anchored" data-anchor-id="delegate">9. Delegate</h3>
<p>If people are delegating decisions to you, why not delegate some of your decisions to someone else?</p>
<p>Even better, if someone asks you to do something for them, ask for some decision making power in return.</p>
<p>You could ask them to do something, ask for their staff’s time to help you with something or ask for money to fund someone to help you.</p>
</section>
<section id="put-it-off" class="level3">
<h3 class="anchored" data-anchor-id="put-it-off">10. Put it off</h3>
<p>Sometimes if you put off decisions, they will make themselves. Though this is not always an advisable hack.</p>
<p>For instance, if I put off choosing a house to buy I will never own a house. I would consider this a poor outcome.</p>
<p>However, if I put off answering relatively unimportant emails I often find the problems resolve themselves.</p>
</section>
<section id="sleep-on-it" class="level3">
<h3 class="anchored" data-anchor-id="sleep-on-it">11. Sleep on it</h3>
<p>A sub-category of putting it off is sleeping on it. Particularly if you feel weary, your brain probably just needs a break from making decisions.</p>
<p>Short naps during the day can help stretch out your decision making powers too.</p>
</section>
<section id="pre-approval" class="level3">
<h3 class="anchored" data-anchor-id="pre-approval">12. Pre-approval</h3>
<p>Sometimes big decisions have to be made really fast. If so, you want to pre-approve the decision with yourself.</p>
<p>For instance, bidding on an auction for a house is pretty huge and stressful decision.</p>
<p>The way to solve this one is to have already decided you want the house and what you are willing to pay.</p>
<p>This means searching not for the ‘one ideal house’, because you may lose many auctions. Instead you should have a category of house types that you consider ‘suitable for living’. For instance, 3 bedroom houses in a local suburb.</p>
<p>So long as the type of house and the price remain within your parameters then you keep bidding. If the price exceeds your pre-approved boundaries, then you stop.</p>
</section>
<section id="add-fun-decisions-to-your-day" class="level3">
<h3 class="anchored" data-anchor-id="add-fun-decisions-to-your-day">13. Add fun decisions to your day</h3>
<p>My final hack is to add some fun decisions to your day. If you have a day packed full of decisions, the fun decisions will push out some of the more stressful (and hopefully useless) ones.</p>
<p>For instance, I usually ride a fast road bike to work. I recently bought a mountain bike so I could have the flexibility to take different off-road routes on my commute.</p>
<p>This added decisions to my day - which bike should I ride and which trails should I take?</p>
<p>When I ride home from work I often find I needlessly think about work the next day, when instead I should deal with the work decisions when I am actually in the office.</p>
<p>Now when I ride home I find myself thinking about what trail to ride on and what bike to take.</p>
<p>As a result I get home more refreshed and less stressed.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.seascapemodels\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>